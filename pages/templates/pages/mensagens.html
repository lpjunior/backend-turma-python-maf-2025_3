{% extends "pages/base.html" %}

{% block title %}Mensagens de Contato, Senac Site Online{% endblock %}

{% block content %}

<section aria-labelledby="titulo-mensagens" class="container my-4">

  <div class="card shadow-sm">
    <div class="card-body">

      <header class="d-flex align-items-center mb-4">
        <i class="fa-solid fa-envelope-open-text fa-lg text-success me-2"
           aria-hidden="true"></i>
        <h1 id="titulo-mensagens" class="h4 mb-0">
          Mensagens recebidas
        </h1>
      </header>

      {% if mensagens %}
        <ul class="list-group list-group-flush">

          {% for msg in mensagens %}
            <li class="list-group-item py-3">

              <div class="d-flex justify-content-between align-items-start flex-wrap">
                <div>
                  <strong class="d-block">{{ msg.pessoa.nome }}</strong>
                  <a href="mailto:{{ msg.pessoa.email }}"
                     class="text-decoration-none text-muted">
                    {{ msg.pessoa.email }}
                  </a>
                </div>

                <small class="text-muted">
                  {{ msg.data_envio|date:"d/m/Y H:i" }}
                </small>
              </div>

              <p class="mt-2 mb-0">
                {{ msg.mensagem }}
              </p>

            </li>
          {% endfor %}

        </ul>
      {% else %}
        <div class="alert alert-info mb-0" role="status">
          <i class="fa-solid fa-circle-info me-2" aria-hidden="true"></i>
          Nenhuma mensagem de contato foi recebida atÃ© o momento.
        </div>
      {% endif %}

    </div>
  </div>

</section>

{% endblock %}
